<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phoenix - Daily Challenges</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(45deg, #ff8c00, #0080ff);
            color: white;
            padding: 20px;
        }
        .challenge-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
        }
        .challenge-container.completed {
            text-decoration: line-through;
            color: lightgreen;
        }
        .streak {
            font-size: 1.5em;
            margin: 20px 0;
        }
        .btn {
            background: #007BFF;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn.complete {
            background: #28a745;
        }
        .btn.reset {
            background: #dc3545;
        }
    </style>
</head>
<body>
    <h1>Daily Challenges</h1>
    <div id="challenge-list"></div>
    <div class="streak" id="streak">Current Streak: 0 days</div>
    <button class="btn reset" id="reset">Reset Challenges</button>

    <script>
        let challenges = JSON.parse(localStorage.getItem("challenges")) || [];
        let completedChallenges = JSON.parse(localStorage.getItem("completedChallenges")) || [];
        let streak = parseInt(localStorage.getItem("streak")) || 0;

        const easyChallengeList = [
            "Do 10 push-ups", "Meditate for 5 minutes", "Write a short gratitude list",
            "Take a 10-minute walk", "Drink 8 glasses of water today", "Read 10 pages of a book"
        ];

        const normalChallengeList = [
            "Run 5 kilometers", "Do 50 push-ups throughout the day", "Meditate for 15 minutes",
            "Write a 1000-word short story", "Learn and perform a simple magic trick"
        ];

        const hardChallengeList = [
            "Do 100 squats throughout the day", "Learn to juggle with 3 balls for 1 minute",
            "Write a 3-page essay on a topic you're unfamiliar with"
        ];

        function generateNewChallenges() {
            const challengeList = [...easyChallengeList, ...normalChallengeList, ...hardChallengeList];
            challenges = shuffleArray(challengeList).slice(0, 5);
            completedChallenges = [];
            localStorage.setItem("challenges", JSON.stringify(challenges));
            localStorage.setItem("completedChallenges", JSON.stringify(completedChallenges));
            renderChallenges();
        }

        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function completeChallenge(index) {
            if (!completedChallenges.includes(index)) {
                completedChallenges.push(index);
                localStorage.setItem("completedChallenges", JSON.stringify(completedChallenges));
                if (completedChallenges.length === challenges.length) {
                    streak++;
                    localStorage.setItem("streak", streak);
                }
                renderChallenges();
                renderStreak();
            }
        }

        function resetChallenges() {
            localStorage.clear();
            streak = 0;
            generateNewChallenges();
            renderStreak();
        }

        function renderChallenges() {
            const challengeListElement = document.getElementById("challenge-list");
            challengeListElement.innerHTML = "";
            challenges.forEach((challenge, index) => {
                const challengeDiv = document.createElement("div");
                challengeDiv.className = "challenge-container";
                challengeDiv.textContent = challenge;
                if (completedChallenges.includes(index)) {
                    challengeDiv.classList.add("completed");
                } else {
                    const completeButton = document.createElement("button");
                    completeButton.className = "btn complete";
                    completeButton.textContent = "Complete";
                    completeButton.onclick = () => completeChallenge(index);
                    challengeDiv.appendChild(completeButton);
                }
                challengeListElement.appendChild(challengeDiv);
            });
        }

        function renderStreak() {
            document.getElementById("streak").textContent = `Current Streak: ${streak} days`;
        }

        document.getElementById("reset").onclick = resetChallenges;

        // Initialize the app
        if (challenges.length === 0) {
            generateNewChallenges();
        }
        renderChallenges();
        renderStreak();
    </script>
</body>
</html>
